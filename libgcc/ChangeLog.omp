2023-01-24  Thomas Schwinge  <thomas@codesourcery.com>

	* config/nvptx/crt0.c [!HAVE_STDLIB_H]: Don't '#include <stdlib.h>'.
	(atexit): Prototype.

2023-01-20  Thomas Schwinge  <thomas@codesourcery.com>
	    Andrew Stubbs  <ams@codesourcery.com>

	* config/nvptx/t-nvptx: Add unwind-nvptx.c.
	* config/nvptx/unwind-nvptx.c: New file.

2023-01-20  Thomas Schwinge  <thomas@codesourcery.com>

	* config/nvptx/crtstuff.c ["mgomp"]
	(__do_global_ctors__entry__mgomp)
	(__do_global_dtors__entry__mgomp): New.
	[!"mgomp"] (__do_global_ctors__entry, __do_global_dtors__entry):
	New.

	* config.host <case ${host} in nvptx-*>: Add 'crtbegin.o',
	'crtend.o' to 'extra_parts'.
	* config/nvptx/crt0.c: Invoke '__do_global_ctors',
	'__do_global_dtors'.
	* config/nvptx/crtstuff.c: New.
	* config/nvptx/t-nvptx: Adjust.

2022-11-07  Kwok Cheung Yeung  <kcy@codesourcery.com>

	* config/gcn/simd-math/amdgcnmach.h (VECTOR_RETURN): Store value of
	return value in a local variable first.
	* config/gcn/simd-math/v64df_ilogb.c (ilogb): Simplify.

2022-11-07  Kwok Cheung Yeung  <kcy@codesourcery.com>

	* config/gcn/simd-math/v64df_rint.c (rint): Simplified.  Fixed bug in
	nested VECTOR_IF.  Fixed issue with signed right-shift.
	* config/gcn/simd-math/v64sf_rint.c (rintf): Simplified.  Fixed bug in
	nested VECTOR_IF.

2022-11-01  Kwok Cheung Yeung  <kcy@codesourcery.com>
	    Paul-Antoine Arras  <pa@codesourcery.com>
	    Andrew Jenner  <andrew@codesourcery.com>

	* config.host: Add t-simdmath for GCN if header files present.
	* config/gcn/simd-math/amdgcnmach.h: New.
	* config/gcn/simd-math/v64_mathcnst.c: New.
	* config/gcn/simd-math/v64_reent.c: New.
	* config/gcn/simd-math/v64df_acos.c: New.
	* config/gcn/simd-math/v64df_acosh.c: New.
	* config/gcn/simd-math/v64df_asin.c: New.
	* config/gcn/simd-math/v64df_asine.c: New.
	* config/gcn/simd-math/v64df_asinh.c: New.
	* config/gcn/simd-math/v64df_atan.c: New.
	* config/gcn/simd-math/v64df_atan2.c: New.
	* config/gcn/simd-math/v64df_atangent.c: New.
	* config/gcn/simd-math/v64df_atanh.c: New.
	* config/gcn/simd-math/v64df_copysign.c: New.
	* config/gcn/simd-math/v64df_cos.c: New.
	* config/gcn/simd-math/v64df_cosh.c: New.
	* config/gcn/simd-math/v64df_erf.c: New.
	* config/gcn/simd-math/v64df_exp.c: New.
	* config/gcn/simd-math/v64df_exp2.c: New.
	* config/gcn/simd-math/v64df_finite.c: New.
	* config/gcn/simd-math/v64df_fmod.c: New.
	* config/gcn/simd-math/v64df_gamma.c: New.
	* config/gcn/simd-math/v64df_hypot.c: New.
	* config/gcn/simd-math/v64df_ilogb.c: New.
	* config/gcn/simd-math/v64df_isnan.c: New.
	* config/gcn/simd-math/v64df_ispos.c: New.
	* config/gcn/simd-math/v64df_lgamma.c: New.
	* config/gcn/simd-math/v64df_lgamma_r.c: New.
	* config/gcn/simd-math/v64df_log.c: New.
	* config/gcn/simd-math/v64df_log10.c: New.
	* config/gcn/simd-math/v64df_log2.c: New.
	* config/gcn/simd-math/v64df_modf.c: New.
	* config/gcn/simd-math/v64df_numtest.c: New.
	* config/gcn/simd-math/v64df_pow.c: New.
	* config/gcn/simd-math/v64df_remainder.c: New.
	* config/gcn/simd-math/v64df_rint.c: New.
	* config/gcn/simd-math/v64df_scalb.c: New.
	* config/gcn/simd-math/v64df_scalbn.c: New.
	* config/gcn/simd-math/v64df_signif.c: New.
	* config/gcn/simd-math/v64df_sin.c: New.
	* config/gcn/simd-math/v64df_sine.c: New.
	* config/gcn/simd-math/v64df_sineh.c: New.
	* config/gcn/simd-math/v64df_sinh.c: New.
	* config/gcn/simd-math/v64df_sqrt.c: New.
	* config/gcn/simd-math/v64df_tan.c: New.
	* config/gcn/simd-math/v64df_tanh.c: New.
	* config/gcn/simd-math/v64df_tgamma.c: New.
	* config/gcn/simd-math/v64sf_acos.c: New.
	* config/gcn/simd-math/v64sf_acosh.c: New.
	* config/gcn/simd-math/v64sf_asin.c: New.
	* config/gcn/simd-math/v64sf_asine.c: New.
	* config/gcn/simd-math/v64sf_asinh.c: New.
	* config/gcn/simd-math/v64sf_atan.c: New.
	* config/gcn/simd-math/v64sf_atan2.c: New.
	* config/gcn/simd-math/v64sf_atangent.c: New.
	* config/gcn/simd-math/v64sf_atanh.c: New.
	* config/gcn/simd-math/v64sf_copysign.c: New.
	* config/gcn/simd-math/v64sf_cos.c: New.
	* config/gcn/simd-math/v64sf_cosh.c: New.
	* config/gcn/simd-math/v64sf_erf.c: New.
	* config/gcn/simd-math/v64sf_exp.c: New.
	* config/gcn/simd-math/v64sf_exp2.c: New.
	* config/gcn/simd-math/v64sf_finite.c: New.
	* config/gcn/simd-math/v64sf_fmod.c: New.
	* config/gcn/simd-math/v64sf_gamma.c: New.
	* config/gcn/simd-math/v64sf_hypot.c: New.
	* config/gcn/simd-math/v64sf_ilogb.c: New.
	* config/gcn/simd-math/v64sf_isnan.c: New.
	* config/gcn/simd-math/v64sf_ispos.c: New.
	* config/gcn/simd-math/v64sf_lgamma.c: New.
	* config/gcn/simd-math/v64sf_lgamma_r.c: New.
	* config/gcn/simd-math/v64sf_log.c: New.
	* config/gcn/simd-math/v64sf_log10.c: New.
	* config/gcn/simd-math/v64sf_log2.c: New.
	* config/gcn/simd-math/v64sf_modf.c: New.
	* config/gcn/simd-math/v64sf_numtest.c: New.
	* config/gcn/simd-math/v64sf_pow.c: New.
	* config/gcn/simd-math/v64sf_remainder.c: New.
	* config/gcn/simd-math/v64sf_rint.c: New.
	* config/gcn/simd-math/v64sf_scalb.c: New.
	* config/gcn/simd-math/v64sf_scalbn.c: New.
	* config/gcn/simd-math/v64sf_signif.c: New.
	* config/gcn/simd-math/v64sf_sin.c: New.
	* config/gcn/simd-math/v64sf_sine.c: New.
	* config/gcn/simd-math/v64sf_sineh.c: New.
	* config/gcn/simd-math/v64sf_sinh.c: New.
	* config/gcn/simd-math/v64sf_sqrt.c: New.
	* config/gcn/simd-math/v64sf_tan.c: New.
	* config/gcn/simd-math/v64sf_tanh.c: New.
	* config/gcn/simd-math/v64sf_tgamma.c: New.
	* config/gcn/t-simdmath: New.

2022-07-05  Tobias Burnus  <tobias@codesourcery.com>

	Reverted:
	2021-02-02  Chung-Lin Tang  <cltang@codesourcery.com>

	* offloadstuff.c (__requires_mask_table): New symbol to mark start of
	.gnu.gomp_requires section.
	(__requires_mask_table_end): New symbol to mark end of
	.gnu.gomp_requires section.

2021-02-02  Chung-Lin Tang  <cltang@codesourcery.com>

	* offloadstuff.c (__requires_mask_table): New symbol to mark start of
	.gnu.gomp_requires section.
	(__requires_mask_table_end): New symbol to mark end of
	.gnu.gomp_requires section.
